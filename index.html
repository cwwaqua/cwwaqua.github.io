<script src="https://cdn.netpie.io/microgear.js"></script>

<style>
    body {
        text-align: center;
    }
    /* SWITCH */
    
    .cube-switch {
        border-radius: 10px;
        border: 1px solid rgba(0, 0, 0, 0.4);
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.6), inset 0 100px 50px rgba(255, 255, 255, 0.1);
        /* Prevents clics on the back */
        
        cursor: default;
        display: none;
        height: 75px;
        position: relative;
        overflow: hidden;
        /* Prevents clics on the back */
        
        pointer-events: none;
        width: 75px;
        white-space: nowrap;
        background: #333;
        margin: 15px;
    }
    /* The switch */
    
    .cube-switch .switch {
        border: 1px solid rgba(0, 0, 0, 0.6);
        border-radius: 0.7em;
        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.3), inset 0 -7px 0 rgba(0, 0, 0, 0.2), inset 0 50px 10px rgba(0, 0, 0, 0.2), 0 1px 0 rgba(255, 255, 255, 0.2);
        display: block;
        width: 60px;
        height: 60px;
        margin-left: -30px;
        margin-top: -30px;
        position: absolute;
        top: 50%;
        left: 50%;
        width: 60px;
        background: #666;
        transition: all 0.2s ease-out;
        /* Allows click */
        
        cursor: pointer;
        pointer-events: auto;
    }
    /* SWITCH Active State */
    
    .cube-switch.active {
        /*background:#222;
    box-shadow:
    0 0 5px rgba(0,0,0,0.5),
    inset 0 50px 50px rgba(55,55,55,0.1);*/
    }
    .cube-switch.active .switch {
        background: #333;
        box-shadow: inset 0 6px 0 rgba(255, 255, 255, 0.1), inset 0 7px 0 rgba(0, 0, 0, 0.2), inset 0 -50px 10px rgba(0, 0, 0, 0.1), 0 1px 0 rgba(205, 205, 205, 0.1);
    }
    .cube-switch.active:after,
    .cube-switch.active:before {
        background: #333;
        box-shadow: 0 1px 0 rgba(255, 255, 255, 0.1), inset 1px 2px 1px rgba(0, 0, 0, 0.5), inset 3px 6px 2px rgba(200, 200, 200, 0.1), inset -1px -2px 1px rgba(0, 0, 0, 0.3);
    }
    .cube-switch.active .switch:after,
    .cube-switch.active .switch:before {
        background: #222;
        border: none;
        margin-top: 0;
        height: 1px;
    }
    .cube-switch .switch-state {
        display: block;
        position: absolute;
        left: 40%;
        color: #FFF;
        font-size: .5em;
        text-align: center;
    }
    /* SWITCH On State */
    
    .cube-switch .switch-state.on {
        bottom: 15%;
    }
    /* SWITCH Off State */
    
    .cube-switch .switch-state.off {
        top: 15%;
    }
</style>

<script>
    const APPKEY = "8PEQ1S6HFurPb0e";
    const APPSECRET = "zoR9DpdwhEQknPUhpv28DJjgP";
    const APPID = "ChaweewanSmartHome";

    var microgear = microgear.create({
        gearkey: APPKEY,
        gearsecret: APPSECRET
    });
    function switchPress1() {
        if (document.getElementById("cube-switch1").className == "cube-switch active") {
            microgear.chat("controllerplug", "SW1_OFF");
        } else if (document.getElementById("cube-switch1").className == "cube-switch") {
            microgear.chat("controllerplug", "SW1_ON");
        }
    }
    function switchPress2() {
        if (document.getElementById("cube-switch2").className == "cube-switch active") {
            microgear2.chat("controllerplug", "SW2_OFF");
        } else if (document.getElementById("cube-switch2").className == "cube-switch") {
            microgear2.chat("controllerplug", "SW2_ON");
        }
    }
    function switchPress3() {
        if (document.getElementById("cube-switch3").className == "cube-switch active") {
            microgear3.chat("controllerplug", "SW3_OFF");
        } else if (document.getElementById("cube-switch2").className == "cube-switch") {
            microgear3.chat("controllerplug", "SW3_ON");
        }
    }
    function switchPress4() {
        if (document.getElementById("cube-switch4").className == "cube-switch active") {
            microgear4.chat("controllerplug", "SW4_OFF");
        } else if (document.getElementById("cube-switch4").className == "cube-switch") {
            microgear4.chat("controllerplug", "SW4_ON");
        }
    }
    function switchPress5() {
        if (document.getElementById("cube-switch5").className == "cube-switch active") {
            microgear5.chat("controllerplug", "SW5_OFF");
        } else if (document.getElementById("cube-switch5").className == "cube-switch") {
            microgear5.chat("controllerplug", "SW5_ON");
        }
    }
    function switchPress6() {
        if (document.getElementById("cube-switch6").className == "cube-switch active") {
            microgear6.chat("controllerplug", "SW6_OFF");
        } else if (document.getElementById("cube-switch6").className == "cube-switch") {
            microgear6.chat("controllerplug", "SW6_ON");
        }
    }
    function switchPress7() {
        if (document.getElementById("cube-switch7").className == "cube-switch active") {
            microgear7.chat("controllerplug", "SW7_OFF");
        } else if (document.getElementById("cube-switch7").className == "cube-switch") {
            microgear7.chat("controllerplug", "SW7_ON");
        }
    }
    function switchPress8() {
        if (document.getElementById("cube-switch8").className == "cube-switch active") {
            microgear8.chat("controllerplug", "SW8_OFF");
        } else if (document.getElementById("cube-switch8").className == "cube-switch") {
            microgear8.chat("controllerplug", "SW8_ON");
        }
    }
    microgear.on('message', function(topic, data) {
        if (data == "SW1_ON") {
            document.getElementById("cube-switch1").className = "cube-switch active";
        } else if (data == "SW1_OFF") {
            document.getElementById("cube-switch1").className = "cube-switch";
        } 

        else if  if (data == "SW2_ON") {
            document.getElementById("cube-switch2").className = "cube-switch active";
        } else if (data == "SW2_OFF") {
            document.getElementById("cube-switch2").className = "cube-switch";
        } 
        
        else if  if (data == "SW3_ON") {
            document.getElementById("cube-switch3").className = "cube-switch active";
        } else if (data == "SW3_OFF") {
            document.getElementById("cube-switch3").className = "cube-switch";
        } 

        else if  if (data == "SW4_ON") {
            document.getElementById("cube-switch4").className = "cube-switch active";
        } else if (data == "SW4_OFF") {
            document.getElementById("cube-switch4").className = "cube-switch";
        } 

        else if  if (data == "SW5_ON") {
            document.getElementById("cube-switch5").className = "cube-switch active";
        } else if (data == "SW5_OFF") {
            document.getElementById("cube-switch5").className = "cube-switch";
        } 

        else if  if (data == "SW6_ON") {
            document.getElementById("cube-switch6").className = "cube-switch active";
        } else if (data == "SW6_OFF") {
            document.getElementById("cube-switch6").className = "cube-switch";
        } 

        else if  if (data == "SW7_ON") {
            document.getElementById("cube-switch7").className = "cube-switch active";
        } else if (data == "SW7_OFF") {
            document.getElementById("cube-switch7").className = "cube-switch";
        } 

        else if  if (data == "SW8_ON") {
            document.getElementById("cube-switch8").className = "cube-switch active";
        } else if (data == "SW8_OFF") {
            document.getElementById("cube-switch8").className = "cube-switch";
        } 

    });
    
    microgear.on('connected', function() {
        microgear.setname('ChaweewanSmartHome');
        document.getElementById("cube-switch1").className = "cube-switch active";
        document.getElementById("cube-switch1").style.display = "block";
        document.getElementById("cube-switch2").className = "cube-switch active";
        document.getElementById("cube-switch2").style.display = "block";
        document.getElementById("cube-switch3").className = "cube-switch active";
        document.getElementById("cube-switch3").style.display = "block";
        document.getElementById("cube-switch4").className = "cube-switch active";
        document.getElementById("cube-switch4").style.display = "block";
        document.getElementById("cube-switch5").className = "cube-switch active";
        document.getElementById("cube-switch5").style.display = "block";
        document.getElementById("cube-switch6").className = "cube-switch active";
        document.getElementById("cube-switch6").style.display = "block";
        document.getElementById("cube-switch7").className = "cube-switch active";
        document.getElementById("cube-switch7").style.display = "block";
        document.getElementById("cube-switch8").className = "cube-switch active";
        document.getElementById("cube-switch8").style.display = "block";
    });
    microgear.resettoken();
    microgear.connect(APPID);


    
</script>
<div style="margin: 20px;"><img src="img/oe.png" style="vertical-align:bottom;width:150px;hight:35px;">
</div>
<center>
    <div href="" class="cube-switch" id="cube-switch1" onclick="switchPress1()">
        <span class="switch">
		    <span class="switch-state off">ปิด</span>
            <span class="switch-state on">เปิด</span>
        </span>
    </div>
    <div href="" class="cube-switch" id="cube-switch2" onclick="switchPress2()">
        <span class="switch">
            <span class="switch-state off">ปิด</span>
            <span class="switch-state on">เปิด</span>
        </span>
    </div>
    <div href="" class="cube-switch" id="cube-switch3" onclick="switchPress3()">
        <span class="switch">
            <span class="switch-state off">ปิด</span>
            <span class="switch-state on">เปิด</span>
        </span>
    </div>
    <div href="" class="cube-switch" id="cube-switch4" onclick="switchPress4()">
        <span class="switch">
            <span class="switch-state off">ปิด</span>
            <span class="switch-state on">เปิด</span>
        </span>
    </div>
    <div href="" class="cube-switch" id="cube-switch5" onclick="switchPress5()">
        <span class="switch">
            <span class="switch-state off">ปิด</span>
            <span class="switch-state on">เปิด</span>
        </span>
    </div>
    <div href="" class="cube-switch" id="cube-switch6" onclick="switchPress6()">
        <span class="switch">
            <span class="switch-state off">ปิด</span>
            <span class="switch-state on">เปิด</span>
        </span>
    </div>
    <div href="" class="cube-switch" id="cube-switch7" onclick="switchPress7()">
        <span class="switch">
            <span class="switch-state off">ปิด</span>
            <span class="switch-state on">เปิด</span>
        </span>
    </div>
    <div href="" class="cube-switch" id="cube-switch8" onclick="switchPress8()">
        <span class="switch">
            <span class="switch-state off">ปิด</span>
            <span class="switch-state on">เปิด</span>
        </span>
    </div>
</center>
</div>